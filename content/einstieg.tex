% chktex-file -2
% LTeX: language=de-DE

\begin{frame}{Einstieg \& Motivation}
    \pdfpcnote{
        @Mik \\ 
        \\
        - In speziellen Sprachen verfasst \\
        - Vorteile eines hohen Abstraktionsgrades
    }
	\begin{itemize}
		\item Wir schreiben Programme in speziellen Sprachen
		\item Vorteile eines hohen Abstraktionsgrades
	\end{itemize}
\end{frame}

\begin{frame}{Einstieg \& Motivation}
    \pdfpcnote{
       @Mik \\
       \\
       - Erweiterbarkeit \\
       - Plattformunabhaengigkeit \\
       - Geschwindigkeit \\
    }
	\begin{figure}[h]
		\begin{minipage}{.32\textwidth}
			\begin{center}
				\centering
				\centerline{\includegraphics[width=.5\textwidth]{assets/google_icon_construction.png}}
				{\small Erweiterbarkeit}
			\end{center}
		\end{minipage}
		\pause
		\hfill
		\begin{minipage}{.32\textwidth}
			\begin{center}
				\centerline{\includegraphics[width=.5\textwidth]{assets/google_icon_deployed_code.png}}
				{\small Plattformunabhängigkeit}
			\end{center}
		\end{minipage}
		\pause
		\hfill
		\begin{minipage}{.32\textwidth}
			\begin{center}
				\centerline{\includegraphics[width=.5\textwidth]{assets/google_icon_speed.png}}
				{\small Geschwindigkeit}
			\end{center}
		\end{minipage}
	\end{figure}
\end{frame}

\begin{frame}{Zentrales Problem}
    \pdfpcnote{
       @Mik \\ 
       \\
       - Es bleibt die Frage, **wie** Programme ausgefuehrt werden \\
       - Dies stellt ein signifikantes Problem dar \\
       \\
       --- \\
       \\
       - Programme sollten einfach zu schreiben sein \\
       - Die Ausfuehrung sollte auch unkompilziert sein \\
       - **Dies ist das zentrale Problem unserer Arbeit** \\
    }

	\begin{minipage}{.35\textwidth}
		\Lirsting[float=H, fancyvrb={frame=none, fontsize=\small}]{deps/paper/listings/simple.rush}
	\end{minipage}%
	\hfill
	\Larrow{
		\begin{minipage}{0.9cm}
			Vorgang
		\end{minipage}
		\begin{minipage}{5mm}
			\includegraphics[width=3.5mm]{assets/google_icon_settings.png}
		\end{minipage}
	}
	\hfill
	\begin{minipage}{.34\textwidth}
		% \Lirsting[float=H, fancyvrb={frame=none, fontsize=\small}, ranges={1-10}]{listings/rush_simple.hexdump}
		\centerline{\includegraphics[width=.5\textwidth]{assets/google_icon_question_mark.png}}
	\end{minipage}

	\begin{itemize}
		\item Programme sollten \cemph{einfach} zu schreiben sein
        \item Die Ausführung sollte jedoch auch \cemph{einfach} sein
        \item[\Rightarrow] Zentrales Problem unserer Arbeit
	\end{itemize}
\end{frame}

\begin{frame}{Methoden zur Programmausführung}
    \pdfpcnote{
        @Mik \\
        \\
        - Man unterscheidet zwischen 2 verschiedenen Vorgehensweisen \\
        \\
        --- \\
        \\
        - Interpreter \\
        - Compiler \\
    }

	\begin{itemize}
        \item Verschiedene Vorgehensweisen
		\item Unterscheidung zwischen \cemph{Interpretern} und \cemph{Compilern}
	\end{itemize}
\end{frame}

\begin{frame}{Interpreter}
    \pdfpcnote{
       @Mik \\
        \\
        - Sprachen wie Python, Javascript und PHP \\
        \\
        --- \\
        \\\
        - In diesem Beispiel: Eine Ausgabe wird generiert (*exit-code*) \\
        \\
        --- \\
        \\
        - Ein Interpreter interpretiert den Syntaxbaum direkt \\
        - **Es ist kein zusaetzlicher Prozess notwendig** \\
    }
	\hfill
	\begin{minipage}{.35\textwidth}
		\begin{center}
			\Lirsting[float=H, fancyvrb={frame=none, fontsize=\small}]{deps/paper/listings/simple.rush}
		\end{center}
	\end{minipage}%
	\Larrow{
		\begin{minipage}{1.3cm}
			Ausführung
		\end{minipage}
		\begin{minipage}{5mm}
			\includegraphics[width=3.5mm]{assets/google_icon_settings.png}
		\end{minipage}
	}
	\hfill
	\begin{minipage}{.35\textwidth}
		\centering
		{\LARGE Exit code: 5}
	\end{minipage}
	\hfill

	\begin{itemize}
		\item Python, Javascript, PHP, usw.
		\item Direktes Ausführen des Syntaxbaums
		\item[\Rightarrow] Kein zusätzlicher Prozess notwendig
	\end{itemize}
\end{frame}

\begin{frame}{Compiler}
    \pdfpcnote{
       @Mik \\
        \\
        - Sprachen wie Rust, C und Go \\
        \\
        --- \\
        \\
        - Wandelt das Programm in ein anderes Format um \\
        - Diese muss vor der Ausfuehrung stattfinden \\
        - **Daher stellt ein Compiler einen zusaetzlicher Prozess dar** \\
    }
	\hspace{.8cm}
	\begin{minipage}{.35\textwidth}
		\begin{center}
			\Lirsting[float=H, fancyvrb={frame=none, fontsize=\small}]{deps/paper/listings/simple.rush}
		\end{center}
	\end{minipage}%
	\Larrow{
		\begin{minipage}{1.45cm}
			Übersetzung
		\end{minipage}
		\begin{minipage}{5mm}
			\includegraphics[width=3.5mm]{assets/google_icon_settings.png}
		\end{minipage}
	}
	\hspace{1.9cm}
	\begin{minipage}{.26\textwidth}
		\Lirsting[float=H, fancyvrb={frame=none, fontsize=\small}, ranges={1-10}]{listings/rush_simple.hexdump}
	\end{minipage}
	\hfill

	\begin{itemize}
		\item Rust, C, Go, usw.
		\item Umwandlung in ein anderes Format
        \item Muss vor der Ausführung stattfinden
		\item[\Rightarrow] Zusätzlicher Prozess
	\end{itemize}
\end{frame}

\section{Die Programmiersprache \enquote{rush}}

\begin{frame}{Fakten über rush}
	\pdfpcnote{
		@Silas \\
		\\
		- Programmierung: ca. vier Monate \\
		- umfasst von 815 Git commits \\
		- besteht aus etwa 17k Zeilen Programmtext \\
	}

	\begin{figure}[h]
		\flushleft
		\hspace{.15cm} \rushlogo{y=0.80pt, x=0.80pt, yscale=-0.15, xscale=0.15}
		\vspace{.2cm}
	\end{figure}
	\begin{itemize}
		\item ca.\ vier Monate intensive Entwicklung
		\item \rushCountCommits~Git Commits
		\item \tokei{./deps/rush} Zeilen Programmtext in Git Commit \enquote{\rushCommit}
	\end{itemize}
\end{frame}

\newcommand{\fadeout}[1]{\textcolor<2>{black!30}{#1}}
\begin{frame}{Projektstruktur}
	\only<1>{\pdfpcnote{
			@Silas \\
			\\
			- rush besteht aus mehreren Komponenten \\
			- rechte Spalte zeigt die jeweilige Groesse den Programmtextes \\
			- erste Kategorie: Analyse der Eingabe, genutzt von allen anderen Komponenten \\
			- zweite Kategorie: Interpreter Implementierungen \\
			- dritte Kategorie: high-level Compiler Implementierungen \\
			- letzte Kategorie: low-level Compiler Implementierungen \\
		}}

	\only<2>{\pdfpcnote{
			@Silas \\
			\\
			- Fokus auf drei Komponenten \\
			- Interpreter: das kleinste Teilprojekt, weil simpel \\
			- LLVM: durchschnittlich, repraesentativ fuer high-level Kategorie \\
			- x64: Das groesste Teilprojekt, weil komplex \\
		}}

	\begin{table}[h]
		\centering
		\rowcolors{2}{gray!15}{}
		\begin{tabular}{p{5.2cm}|p{5.2cm}}
			\rowcolor{gray!20} Komponente   & Zeilen Programmtext                                       \\
			\hline
			\fadeout{Lexer / Parser}        & \fadeout{\tokei{./deps/rush/crates/rush-parser}}          \\
			\fadeout{Analyzer}              & \fadeout{\tokei{./deps/rush/crates/rush-analyzer}}        \\
			\hline
			Tree-walking Interpreter        & \tokei{./deps/rush/crates/rush-interpreter-tree}          \\
			\fadeout{VM Compiler / Runtime} & \fadeout{\tokei{./deps/rush/crates/rush-interpreter-vm}}  \\
			\hline
			\fadeout{WebAssembly Compiler}  & \fadeout{\tokei{./deps/rush/crates/rush-compiler-wasm}}   \\
			LLVM Compiler                   & \tokei{./deps/rush/crates/rush-compiler-llvm}             \\
			\fadeout{C Transpiler}          & \fadeout{\tokei{./deps/rush/crates/rush-transpiler-c}}    \\
			\hline
			\fadeout{RISC-V Compiler}       & \fadeout{\tokei{./deps/rush/crates/rush-compiler-risc-v}} \\
			x64 Compiler                    & \tokei{./deps/rush/crates/rush-compiler-x86-64}           \\
		\end{tabular}
	\end{table}
\end{frame}

\begin{frame}{Fähigkeiten von rush}
	\pdfpcnote{
		@Silas \\
		\\
		- die wichtigsten Faehigkeiten von rush \\
		\\
		--- \\
		\\
		1. gewoehnliche Schleifen \\
		2. if-Verzweigung \\
		3. Funktionsdefinition \\
		4. Variablendefinition \\
		5. infix- und praefix Ausdruecke \\
		6. Typumwandlung \\
	}

	\begin{table}[h]
		\rowcolors{2}{gray!15}{}
		\begin{tabular}{p{5.2cm}|p{5.2cm}}
			\rowcolor{gray!25} Bezeichnung & Beispiel                                                 \\
			\hline
			Schleife                       & \LirstInline{rush}{loop {  }}                            \\
			\enquote{while}-Schleife       & \LirstInline{rush}{while x < 5 {  }}                     \\
			\enquote{for}-Schleife         & \LirstInline{rush}{for i = 0; i < 5; i += 1 {  }} \pause \\
			\enquote{if}-Verzweigung       & \LirstInline{rush}{if true {  } else {  }}        \pause \\
			Funktionsdefinition            & \LirstInline{rush}{fn foo(n: int) {  }}           \pause \\
			Variablendefinition            & \LirstInline{rush}{let mut answer = 42}           \pause \\
			Infix-Ausdruck                 & \LirstInline{rush}{1 + n; 5 ** 2}                        \\
			Präfix-Ausdruck                & \LirstInline{rush}{!false; -n}                    \pause \\
			Typumwandlung                  & \LirstInline{rush}{42 as float}                          \\
		\end{tabular}
	\end{table}
\end{frame}

\begin{frame}{Datentypen in rush}
	\pdfpcnote{
		@Silas \\
		\\
		1. sowohl Ganzzahlen als auch Fliesskommazahlen \\
		2. Wahrheitswerte \\
		3. Zeichen \\
		4. untypische: _unit_ und _never_ \\
		\\
		--- \\
		\\
		- **keine** Sequenzen wie z.B. Strings \\
	}

	\begin{table}[h]
		\rowcolors{2}{gray!15}{}
		\begin{tabular}{p{5.2cm}|p{5.2cm}}
			\rowcolor{gray!25} Bezeichnung & Instanziierung einer Variable                   \\
			\hline
			\qVerb{int}                    & \LirstInline{rush}{let a: int = 0;}             \\
			\qVerb{float}                  & \LirstInline{rush}{let b: float = 3.14;} \pause \\
			\qVerb{bool}                   & \LirstInline{rush}{let c: bool = true;}  \pause \\
			\qVerb{char}                   & \LirstInline{rush}{let d: char = 'a';}   \pause \\
			\qVerb{()} oder \enquote{Unit} & \LirstInline{rush}{let e: () = main();}         \\
			\qVerb{!} oder \enquote{Never} & \LirstInline{rush}{let f = exit(42);}           \\
		\end{tabular}
	\end{table}
\end{frame}

\begin{frame}{Berechnung von Fibonaccizahlen in rush}
	\pdfpcnote{
		@Silas \\
		\\
		- gezeigt: Beispielprogramm in rush \\
		- Berechnung von Zahlen der Fibonacci-reihe \\
		- wir werden zeigen wie die einzelnen Implementierung mit diesem Programm umgehen \\
	}

	\centering
	\begin{minipage}{.42\textwidth}
		\Lirsting[float=H, fancyvrb={frame=none}]{deps/paper/listings/fib.rush}
	\end{minipage}
\end{frame}
