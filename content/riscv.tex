\section{Kompilierung zu \riscv}
\begin{frame}{Was ist \riscv?}
	\begin{itemize}
        \item \textbf{R}educed \textbf{i}nstruction \textbf{s}et \textbf{c}omputer (RISC)
        \item Forschungsprojekt der UC Berkeley
		\item Ziel: Lösen der Probleme vieler CISC Architekturen
        \item Simplizität und Erweiterbarkeit
        \item Unterstüztung durch: Google Microsoft, Samsung und IBM
	\end{itemize}
\end{frame}

\begin{frame}{Registers der \riscv{} Architektur \TODO{MAYBE DELETE}}
	\begin{table}
		\centering
		\caption[Registers der \riscv{} Architektur.]{Register der \riscv{} Architektur~\cite[p.~155]{Waterman2019}.}\label{tbl:riscv_regs}
		\begin{tabularx}{\linewidth}{l|L}
			\rowcolor{gray!15} Register & Verwendung                        \\ \hline
			\texttt{zero}               & hardwired zero                    \\ \hline
			\texttt{ra}                 & return address                    \\ \hline
			\texttt{sp}                 & stack pointer                     \\ \hline
			\texttt{t0}--\texttt{t6}    & temporary storage                 \\ \hline
			\texttt{fp}                 & frame pointer                     \\ \hline
			\texttt{a0}, \texttt{a1}    & function arguments, return values \\ \hline
			\texttt{a2}--\texttt{a7}    & function arguments                \\ \hline
			\texttt{s1}--\texttt{s11}   & saved register                    \\ \hline
			\texttt{fa0}, \texttt{fa1}  & float arguments, return values    \\ \hline
			\texttt{fa2}--\texttt{fa7}  & float arguments                   \\ \hline
			\texttt{fs0}--\texttt{fs11} & float saved registers             \\ \hline
			\texttt{ft0}--\texttt{ft11} & float temporaries                 \\
		\end{tabularx}
	\end{table}
\end{frame}

\begin{frame}{Stacklayout der \riscv Architektur \TODO{MAYBE DELETE}}
	\begin{figure}[h]
		\hspace{-1.75cm}
		\begin{tikzpicture}[xscale=0.9, yscale=0.7]
			\footnotesize

			% manually set counter to allow stack frame including the start dots
			\setcounter{cellnb}{0}
			\startframe
			\addtocounter{cellnb}{-1}

			% copied code from `\stacktop{}` to not reset counter to in turn allow `\startframe` above this
			\draw[padding] (0,\value{cellnb})
			+(-2,.5) -- +(-2,-.5) -- +(2,-.5) -- +(2,.5);
			\draw (0,\value{cellnb}) node{...};

			\cell{$n$\textsuperscript{th} stack argument} \cellcom{\texttt{$8n$(fp)}}
			\cell[padding]{...}
			% custom draw instead of `\cellcom` for yshift
			\draw (2.4,\value{cellnb}) node[anchor=west, yshift=3.5pt] {\vdots};
			\cell{\nth{1} stack argument} \cellcom{\texttt{0(fp)}}
			\finishframe{previous}

			\startframe
			\cell{previous \qVerb{fp} value} \cellcom{\texttt{-8(fp)}}
			\cell{return address} \cellcom{\texttt{-16(fp)}}

			\padding{3}{\makecell{unspecified\\variable size}} \cellcom{\texttt{0(sp)}}
			% custom draws instead of `\cellcom` for yshift and padding cell offset
			\draw (2.4,\value{cellnb}+1) node[anchor=west, yshift=3.5pt] {\vdots};
			\draw (2.4,\value{cellnb}+2) node[anchor=west] {\texttt{-24(fp)}};
			\finishframe{current}
			\stackbottom[padding]
		\end{tikzpicture}
		\caption{Stack layout der \riscv{} Architektur.}\label{fig:riscv_stack}
	\end{figure}
\end{frame}

\begin{frame}{Beispiel: Eingabe}
	\Lirsting[float=H]{deps/paper/listings/simple_add.rush}
\end{frame}

\begin{frame}{Beispiel: Ausgabe}
	\Lirsting[float=H, fancyvrb={fontsize=\scriptsize}]{deps/paper/listings/generated/rush_simple_add.s}
\end{frame}
